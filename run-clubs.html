<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Black - Run Clubs</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

    <!-- GSAP (GreenSock Animation Platform) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0A0A0A;
            color: #EAEAEA;
            overflow-x: hidden;
        }
        .glossy-header {
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .map-container {
            background-image: url('https://images.unsplash.com/photo-1594168992399-703a4a7842a2?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .city-details {
            display: none; /* Hidden by default, shown by JS */
        }
        
        /* New Stride Animation Styles */
        .stride-reveal-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Full viewport height for pinning */
        }
        .stride-text h2 {
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 900;
            line-height: 1.1;
            text-align: center;
            color: #EAEAEA;
        }
        .stride-text .line {
            position: relative;
            display: block;
            overflow: hidden; /* Hide the pseudo-element overflow */
            padding: 0.2em 0;
        }
        .stride-text .line::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: #EAEAEA; /* The color of the wipe */
            transform-origin: right;
            transform: scaleX(var(--line-reveal, 1));
        }

    </style>
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="glossy-header sticky top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/UltraBlack/index.html" class="text-2xl font-black tracking-wider">ULTRA BLACK</a>
            <div class="hidden lg:flex items-center space-x-6">
                <a href="/UltraBlack/run-clubs.html" class="hover:text-white transition-colors font-bold">Run Clubs</a>
                <a href="/UltraBlack/store.html" class="hover:text-white transition-colors">Store</a>
                <a href="/UltraBlack/donations.html" class="hover:text-white transition-colors">Donations</a>
                <a href="/UltraBlack/scholarship.html" class="hover:text-white transition-colors">Scholarship</a>
            </div>
            <div class="hidden lg:flex items-center space-x-6">
                <a href="/UltraBlack/cart.html" class="relative text-white hover:text-gray-300 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </a>
            </div>
            <button id="mobile-menu-button" class="lg:hidden flex items-center p-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden lg:hidden fixed inset-0 bg-black/95 z-40 pt-24 overflow-y-auto">
        <div class="container mx-auto px-6 flex flex-col items-center text-center space-y-6">
            <a href="/UltraBlack/run-clubs.html" class="text-2xl hover:text-white transition-colors font-bold">Run Clubs</a>
            <a href="/UltraBlack/store.html" class="text-2xl hover:text-white transition-colors">Store</a>
            <a href="/UltraBlack/donations.html" class="text-2xl hover:text-white transition-colors">Donations</a>
            <a href="/UltraBlack/scholarship.html" class="text-2xl hover:text-white transition-colors">Scholarship</a>
            <a href="/UltraBlack/cart.html" class="relative text-white hover:text-gray-300 transition-colors text-2xl">
                Cart (<span id="mobile-cart-count">0</span>)
            </a>
        </div>
    </div>

    <main>
        <!-- Hero Section -->
        <section class="relative min-h-[70vh] md:min-h-[80vh] flex flex-col justify-center items-center text-center text-white p-6 overflow-hidden">
            <div class="map-container absolute inset-0 z-0"></div>
            <div class="absolute inset-0 bg-black/70 z-0"></div>
            
            <div class="relative z-10">
                <h1 class="text-5xl md:text-7xl font-black uppercase tracking-tighter mb-4" id="hero-title">Select a City</h1>
                <p class="max-w-2xl mx-auto text-lg md:text-xl text-gray-300 mb-8" id="hero-subtitle">
                    Choose a city from the dropdown to see its run club details.
                </p>
                <div class="relative inline-block">
                    <select id="city-selector" class="appearance-none bg-white text-black font-bold py-4 pl-6 pr-12 rounded-full text-lg cursor-pointer focus:outline-none">
                        <option value="">Choose your city...</option>
                        <option value="toronto">Toronto</option>
                        <option value="new-york">New York</option>
                        <option value="london">London</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-black">
                        <svg class="fill-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stride Text Reveal Section -->
        <section class="stride-reveal-container bg-black">
            <div class="stride-text container mx-auto px-6">
                <h2>
                    <span class="line">Each city holds its own rhythm.</span>
                    <span class="line">Find your pace.</span>
                </h2>
            </div>
        </section>

        <!-- City Details Section -->
        <div id="city-details-container" class="py-16 bg-black">
            <!-- Toronto -->
            <div id="toronto" class="city-details container mx-auto px-6">
                <div class="bg-gray-900 rounded-lg p-8 md:p-12">
                    <h2 class="text-5xl font-black mb-2">Toronto</h2>
                    <p class="text-xl text-gray-400 mb-8">The 6ix's heartbeat, running through every borough.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="text-2xl font-bold mb-4">Upcoming Runs</h3>
                            <ul class="space-y-3">
                                <li><strong class="text-white">Tues:</strong> 7 PM - Tempo Tuesdays @ The Bentway</li>
                                <li><strong class="text-white">Thurs:</strong> 7 PM - Social 5k @ Harbourfront</li>
                                <li><strong class="text-white">Sun:</strong> 9 AM - Long Run @ High Park</li>
                            </ul>
                            <h3 class="text-2xl font-bold mt-8 mb-4">Local Leaders</h3>
                            <p>Led by Marcus and Chloe</p>
                        </div>
                        <div class="w-full h-64 md:h-full rounded-lg overflow-hidden">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2887.472522292991!2d-79.3842603238637!3d43.64009235293248!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89d4cb23ab62a799%3A0x23d212532470768!2sHarbourfront%20Centre!5e0!3m2!1sen!2sca!4v1720432520844!5m2!1sen!2sca" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- New York -->
            <div id="new-york" class="city-details container mx-auto px-6">
                 <div class="bg-gray-900 rounded-lg p-8 md:p-12">
                    <h2 class="text-5xl font-black mb-2">New York</h2>
                    <p class="text-xl text-gray-400 mb-8">Concrete jungle where running dreams are made of.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="text-2xl font-bold mb-4">Upcoming Runs</h3>
                            <ul class="space-y-3">
                                <li><strong class="text-white">Mon:</strong> 6:30 PM - Bridge Run @ Williamsburg Bridge</li>
                                <li><strong class="text-white">Wed:</strong> 7 AM - Sunrise Sprints @ Central Park</li>
                                <li><strong class="text-white">Sat:</strong> 10 AM - Borough Connect @ Prospect Park</li>
                            </ul>
                            <h3 class="text-2xl font-bold mt-8 mb-4">Local Leaders</h3>
                            <p>Led by Jasmine and Andre</p>
                        </div>
                        <div class="w-full h-64 md:h-full rounded-lg overflow-hidden">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.08321410295!2d-73.9845570239859!3d40.76023193514936!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25859e450913f%3A0x522ae16882421c6e!2sColumbus%20Circle!5e0!3m2!1sen!2sca!4v1720432612713!5m2!1sen!2sca" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- London -->
            <div id="london" class="city-details container mx-auto px-6">
                 <div class="bg-gray-900 rounded-lg p-8 md:p-12">
                    <h2 class="text-5xl font-black mb-2">London</h2>
                    <p class="text-xl text-gray-400 mb-8">Pounding the pavement from the Thames to the Tube.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="text-2xl font-bold mb-4">Upcoming Runs</h3>
                            <ul class="space-y-3">
                                <li><strong class="text-white">Tues:</strong> 7 PM - Track Night @ Battersea Park</li>
                                <li><strong class="text-white">Thurs:</strong> 6:45 PM - Social Run @ Regent's Park</li>
                                <li><strong class="text-white">Sun:</strong> 9:30 AM - Royal Parks Long Run</li>
                            </ul>
                            <h3 class="text-2xl font-bold mt-8 mb-4">Local Leaders</h3>
                            <p>Led by Ade and Simone</p>
                        </div>
                        <div class="w-full h-64 md:h-full rounded-lg overflow-hidden">
                           <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2482.167368953923!2d-0.1585687234978455!3d51.52580970924973!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48761ace40469959%3A0x29043e6234956767!2sThe%20Regent&#39;s%20Park!5e0!3m2!1sen!2sca!4v1720432668586!5m2!1sen!2sca" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer class="bg-black text-white py-12 md:py-20">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-1 text-center md:text-left">
                    <h3 class="text-2xl font-black tracking-wider">ULTRA BLACK</h3>
                    <p class="text-gray-400 mt-2">A community-driven platform for runners.</p>
                    <div class="flex justify-center md:justify-start space-x-4 mt-4">
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c-4.42 0-7.8 2.34-9.423 5.428C1.24 10.49.873 13.734 2.01 17.15c1.11 3.35 3.8 5.85 7.28 5.85h4.216c3.48 0 6.17-2.5 7.28-5.85 1.137-3.416.77-6.66-1.07-9.722C18.115 4.34 16.735 2 12.315 2zm0 1.622c3.822 0 6.75 1.98 8.21 4.686.86 1.54 1.32 3.546.96 5.922-.53 3.5-2.67 5.22-5.46 5.22h-4.21c-2.79 0-4.93-1.72-5.46-5.22-.36-2.376.1-4.382.96-5.922C5.565 3.98 8.493 2 12.315 2zM6.35 9.182c.33 0 .6.27.6.6v4.836a.6.6 0 01-1.2 0V9.782c0-.33.27-.6.6-.6zm11.3 0c.33 0 .6.27.6.6v4.836a.6.6 0 01-1.2 0V9.782c0-.33.27-.6.6-.6zM12 6.545c-3.01 0-5.455 2.444-5.455 5.455S8.99 17.455 12 17.455s5.455-2.444 5.455-5.455S15.01 6.545 12 6.545zm0 1.2c2.345 0 4.255 1.91 4.255 4.255S14.345 16.255 12 16.255 7.745 14.345 7.745 12s1.91-4.255 4.255-4.255z" clip-rule="evenodd"/></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.86-.95-6.69-2.81-1.75-1.76-2.59-4.16-2.6-6.69-.01-2.42.93-4.82 2.7-6.61 1.8-1.83 4.26-2.8 6.7-2.66.01 1.56-.01 3.12.01 4.67.01.15.02.3.02.45-.56-.11-1.11-.23-1.66-.37-1.43-.37-2.86-.36-4.29.05-1.13.33-2.17.85-3.07 1.57-.91.72-1.63 1.65-2.1 2.71-.63 1.52-.84 3.2-.53 4.8.31 1.6 1.15 3.04 2.41 4.13 1.25 1.09 2.81 1.7 4.45 1.75 1.62.05 3.2-.49 4.47-1.48 1.23-.95 2.04-2.32 2.26-3.83.07-.46.08-.92.08-1.38.01-3.48.01-6.95.02-10.43.01-.12.02-.24.02-.37.01-.15.01-.3-.01-.45-.2-.02-.39-.04-.58-.04-1.28-.01-2.57-.01-3.85-.01z"/></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.78 22 12 22 12s0 3.22-.42 4.814a2.506 2.506 0 0 1-1.768 1.768c-1.594.42-7.812.42-7.812.42s-6.218 0-7.812-.42a2.506 2.506 0 0 1-1.768-1.768C2 15.22 2 12 2 12s0-3.22.42-4.814a2.506 2.506 0 0 1 1.768-1.768C5.782 5 12 5 12 5s6.218 0 7.812.418ZM15.197 12 10 8.82v6.36L15.197 12Z" clip-rule="evenodd"/></svg></a>
                    </div>
                </div>
                <div class="md:col-span-2">
                    <h4 class="text-lg font-semibold">Stay in the loop</h4>
                    <p class="text-gray-400 mt-2">Subscribe to our newsletter for the latest updates, events, and stories from the Ultra Black community.</p>
                    <form class="mt-4 flex flex-col sm:flex-row">
                        <input type="email" placeholder="Your Email" class="w-full sm:w-auto flex-grow px-4 py-3 rounded-t-md sm:rounded-l-md sm:rounded-t-none bg-gray-800 border border-gray-700 focus:outline-none focus:border-white">
                        <button type="submit" class="bg-white text-black font-bold px-6 py-3 rounded-b-md sm:rounded-r-md sm:rounded-b-none hover:bg-gray-200 transition-colors">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-800 pt-8 text-center text-gray-500">
                <p>&copy; 2024 Ultra Black. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            gsap.registerPlugin(ScrollTrigger);

            // --- Mobile Menu ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const body = document.body;

            mobileMenuButton.addEventListener('click', (e) => {
                e.stopPropagation();
                mobileMenu.classList.toggle('hidden');
                if (!mobileMenu.classList.contains('hidden')) {
                    body.style.overflow = 'hidden';
                } else {
                    body.style.overflow = 'auto';
                }
            });

            document.addEventListener('click', (e) => {
                if (!mobileMenu.classList.contains('hidden') && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                    body.style.overflow = 'auto';
                }
            });

            function updateCartCount() {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
                const cartCountElement = document.getElementById('cart-count');
                const mobileCartCountElement = document.getElementById('mobile-cart-count');
                if (cartCountElement) cartCountElement.textContent = cartCount;
                if (mobileCartCountElement) mobileCartCountElement.textContent = cartCount;
            }
            updateCartCount();
            window.addEventListener('storage', updateCartCount);

            // --- GSAP Animations ---

            // 1. Hero Text Animation
            gsap.from(["#hero-title", "#hero-subtitle", "#city-selector"], {
                opacity: 0,
                y: 50,
                duration: 1,
                stagger: 0.2,
                ease: "power3.out"
            });

            // 2. Stride Text Reveal Animation
            const lines = document.querySelectorAll(".stride-text .line");

            // Set initial state for the reveal
            lines.forEach(line => {
                gsap.set(line, { '--line-reveal': '1' });
            });

            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: ".stride-reveal-container",
                    pin: true,
                    start: "center center",
                    end: "+=50%", // Faster scroll duration
                    scrub: 0.3,   // Faster scrub
                }
            });

            // Animate the CSS variable on the lines with a faster stagger
            tl.to(lines, {
                '--line-reveal': '0',
                ease: 'none',
                stagger: 0.1 // Faster stagger
            });
            

            // --- City Selector Logic ---
            const selector = document.getElementById('city-selector');
            let activeCity = null;

            selector.addEventListener('change', (e) => {
                const selectedCity = e.target.value;

                // Hide previously active city details
                if (activeCity) {
                    const activeDetails = document.getElementById(activeCity);
                    gsap.to(activeDetails, { opacity: 0, y: 30, duration: 0.5, onComplete: () => activeDetails.style.display = 'none' });
                }

                if (selectedCity) {
                    const newDetails = document.getElementById(selectedCity);
                    
                    // Animate new details in
                    newDetails.style.display = 'block';
                    gsap.fromTo(newDetails, 
                        { opacity: 0, y: 30 },
                        { opacity: 1, y: 0, duration: 0.8, ease: "power3.out", delay: 0.2 }
                    );
                }
                
                activeCity = selectedCity;
            });
        });
    </script>

</body>
</html>
